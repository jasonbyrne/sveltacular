import{p as F,A as u,j as le,o as oe,f as D,D as L,k as E,l as q,b as p,c as M,s as b,e as d,g as n,C as c,af as G,m as J,t as _,r as de,ac as ue}from"./iframe-D7RYvwF5.js";import{s as K}from"./class-CSG4cUfb.js";import{H as ce}from"./header-HUhkViHE.js";import{B as C}from"./button-BYNa-MSv.js";import{N as ve}from"./notice-B1x1MFLK.js";var pe=D('<section><!> <div class="content"><!></div> <footer class="svelte-15vinl"><div class="svelte-15vinl"><!></div> <div class="svelte-15vinl"><div class="svelte-15vinl"> </div></div> <div class="svelte-15vinl"><!></div></footer></section>');function fe(w,r){F(r,!0);let f=u(r,"level",3,3),a=u(r,"disabled",15,!1),m=u(r,"onNext",3,async()=>[]),y=u(r,"onSubmit",3,async()=>[]),k=u(r,"onDone",3,void 0),x=u(r,"onNextStep",3,void 0),h=u(r,"onPreviousStep",3,void 0),P=u(r,"onErrors",3,void 0);const e=le({steps:[],currentStep:null,errors:[]});function S(t,i){var s;if(!e.steps.find(o=>o.step===t)&&(e.steps.push({step:t,subtitle:i}),e.currentStep===null)){const o=[...e.steps].sort((se,ae)=>se.step-ae.step);e.currentStep=((s=o[0])==null?void 0:s.step)??null}}oe("wizard",{state:e,register:S});const l=c(()=>[...e.steps].sort((t,i)=>t.step-i.step)),v=c(()=>n(l).findIndex(t=>t.step===e.currentStep)),I=c(()=>n(v)===0),g=c(()=>n(v)===n(l).length-1),z=c(()=>{var t;return((t=n(l)[n(v)])==null?void 0:t.subtitle)??""}),O=c(()=>n(l).length);async function V(t){var i;a(!0);try{const s=await t();e.errors=Array.isArray(s)?s:[]}catch{e.errors=[]}finally{a(!1),(i=P())==null||i(e.errors)}return e.errors}async function Q(){var s;if(a()||e.currentStep===null||(await V(()=>m()(e.currentStep))).length>0)return;const i=n(v)+1;i<n(l).length&&(e.currentStep=n(l)[i].step,e.errors=[],(s=x())==null||s(e.currentStep))}function R(){var i;if(a()||e.currentStep===null)return;const t=n(v)-1;t>=0&&(e.currentStep=n(l)[t].step,e.errors=[],(i=h())==null||i(e.currentStep))}async function T(){var i,s;(await V(y())).length||((i=k())==null||i(),a(!1),e.errors=[],e.currentStep=((s=n(l)[0])==null?void 0:s.step)??null)}var N=pe();let A;var W=d(N);ce(W,{get title(){return r.title},get subtitle(){return n(z)},get level(){return f()}});var j=b(W,2),U=d(j);L(U,()=>r.children??G);var X=b(j,2),B=d(X),Y=d(B);{var Z=t=>{C(t,{type:"button",variant:"secondary",onClick:R,get disabled(){return a()},children:(i,s)=>{var o=_("Previous");p(i,o)},$$slots:{default:!0}})};E(Y,t=>{n(I)||t(Z)})}var H=b(B,2),$=d(H),ee=d($),te=b(H,2),ie=d(te);{var ne=t=>{C(t,{type:"submit",variant:"primary",onClick:T,get disabled(){return a()},children:(i,s)=>{var o=_("Done");p(i,o)},$$slots:{default:!0}})},re=t=>{C(t,{type:"button",variant:"primary",onClick:Q,get disabled(){return a()},children:(i,s)=>{var o=_("Next");p(i,o)},$$slots:{default:!0}})};E(ie,t=>{n(g)?t(ne):t(re,!1)})}q(()=>{A=K(N,1,"svelte-15vinl",null,A,{disabled:a()}),J(ee,`Step ${e.currentStep??0??""} of ${n(O)??""}`)}),p(w,N),M()}fe.__docgen={data:[{name:"title",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"level",visibility:"public",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"number",value:1,text:"1"},{kind:"const",type:"number",value:2,text:"2"},{kind:"const",type:"number",value:3,text:"3"},{kind:"const",type:"number",value:4,text:"4"},{kind:"const",type:"number",value:5,text:"5"},{kind:"const",type:"number",value:6,text:"6"}],text:"1 | 2 | 3 | 4 | 5 | 6"},static:!1,readonly:!1,defaultValue:"..."},{name:"disabled",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"..."},{name:"onNext",visibility:"public",keywords:[],kind:"let",type:{kind:"function",text:"(step: number) => Promise<void | string[]>"},static:!1,readonly:!1,defaultValue:"function"},{name:"onSubmit",visibility:"public",keywords:[],kind:"let",type:{kind:"function",text:"() => Promise<void | string[]>"},static:!1,readonly:!1,defaultValue:"function"},{name:"onDone",visibility:"public",keywords:[],kind:"let",type:{kind:"function",text:"() => void"},static:!1,readonly:!1},{name:"onNextStep",visibility:"public",keywords:[],kind:"let",type:{kind:"function",text:"(step: number) => void"},static:!1,readonly:!1},{name:"onPreviousStep",visibility:"public",keywords:[],kind:"let",type:{kind:"function",text:"(step: number) => void"},static:!1,readonly:!1},{name:"onErrors",visibility:"public",keywords:[],kind:"let",type:{kind:"function",text:"(errors: string[]) => void"},static:!1,readonly:!1},{name:"children",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"function",text:"Snippet<[]>"},static:!1,readonly:!1}],name:"wizard.svelte"};var ye=D('<div class="errors svelte-r2slca"><!></div>'),be=D("<div><!> <!></div>");function me(w,r){F(r,!0);const f=de("wizard");ue(()=>{f.register(r.step,r.subtitle)});const a=c(()=>f.state.currentStep===r.step),m=c(()=>f.state.errors);var y=be();let k;var x=d(y);{var h=e=>{var S=ye(),l=d(S);ve(l,{variant:"error",size:"md",children:(v,I)=>{var g=_();q(z=>J(g,z),[()=>n(m).join(" ")]),p(v,g)},$$slots:{default:!0}}),p(e,S)};E(x,e=>{n(a)&&n(m).length>0&&e(h)})}var P=b(x,2);L(P,()=>r.children??G),q(()=>k=K(y,1,"step svelte-r2slca",null,k,{current:n(a)})),p(w,y),M()}me.__docgen={data:[{name:"step",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1},{name:"subtitle",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"children",visibility:"public",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"function",text:"Snippet<[]>"},static:!1,readonly:!1}],name:"wizard-step.svelte"};export{fe as W,me as a};
