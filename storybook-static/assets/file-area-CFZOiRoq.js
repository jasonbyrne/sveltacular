import{p as J,A as r,f as b,e as f,k as L,l as P,ad as n,b as y,c as K,j as N,s as k,F as O,g as d,C as u,i as Q,h as T,u as U,a as X,D as Y,af as Z,m as $}from"./iframe-D7RYvwF5.js";import{s as ee}from"./attributes-AHszVgQG.js";import{s as te}from"./class-CSG4cUfb.js";import{I as ae}from"./icon-v8TPefiR.js";var ie=b("<span>Drop file or click to select</span>"),se=b('<span class="file-count svelte-k3noem"> </span>'),le=b('<div><label class="svelte-k3noem"><input type="file" id="upload-button" accept="image/*" class="svelte-k3noem"/> <div class="icon svelte-k3noem"><!></div> <div class="text svelte-k3noem"><!> <!></div></label></div>');function ne(C,s){J(s,!0);let a=r(s,"selectedFiles",31,()=>N([])),_=r(s,"disabled",3,!1),V=r(s,"fileLimit",3,1),o=r(s,"fileMimePattern",3,void 0),M=r(s,"onFilesSelected",3,void 0),h=r(s,"children",3,void 0),v=Q(!1);const F=e=>o()?[...e].filter(t=>t.type?o()?typeof o()=="string"?t.type.startsWith(o()):t.type.match(o()):!0:!1):e,x=async e=>{var t;e.length&&(a([...e,a()].flat().slice(0,V())),(t=M())==null||t(a()))},j=async e=>{const t=e.target;!(t!=null&&t.files)||!t.files.length||x(F([...t.files]))},z=async e=>{if(c(e),!e.dataTransfer)return;const t=e.dataTransfer.items?[...e.dataTransfer.items].filter(l=>l.kind==="file").map(l=>l.getAsFile()):e.dataTransfer.files;x(F(t))},g=e=>{e.preventDefault(),e.stopPropagation(),T(v,!0)},c=e=>{e.preventDefault(),e.stopPropagation(),T(v,!1)};let A=u(()=>a().length?"has-files":"no-files"),E=u(()=>_()?"disabled":""),I=u(()=>d(v)?"isDragging":""),S=u(()=>a().length?`${a().length} file${a().length>1?"s":""} selected`:"");var p=le(),i=f(p),m=f(i);m.__change=j;var w=k(m,2),R=f(w);ae(R,{type:"upload",size:"lg"});var W=k(w,2),D=f(W);{var q=e=>{var t=U(),l=X(t);Y(l,()=>h()??Z),y(e,t)},B=e=>{var t=ie();y(e,t)};L(D,e=>{h()?e(q):e(B,!1)})}var G=k(D,2);{var H=e=>{var t=se(),l=f(t);P(()=>$(l,d(S))),y(e,t)};L(G,e=>{d(S)&&e(H)})}P(()=>{te(p,1,`dropzone ${d(A)??""} ${d(E)??""} ${d(I)??""}`,"svelte-k3noem"),ee(p,"data-file-count",a().length),m.disabled=_()}),n("drop",i,z),n("dragenter",i,g),n("dragstart",i,g),n("dragover",i,g),n("dragend",i,c),n("dragleave",i,c),n("dragexit",i,c),y(C,p),K()}O(["change"]);ne.__docgen={data:[{name:"selectedFiles",visibility:"public",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"type",type:"array",text:"FileList"},{kind:"type",type:"array",text:"File[]"}],text:"FileList | File[]"},static:!1,readonly:!1,defaultValue:"..."},{name:"disabled",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"fileLimit",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"1"},{name:"fileMimePattern",visibility:"public",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"type",type:"string",text:"string"},{kind:"type",type:"object",text:"RegExp"}],text:"string | RegExp"},static:!1,readonly:!1,defaultValue:"..."},{name:"onFilesSelected",visibility:"public",keywords:[],kind:"let",type:{kind:"function",text:"(files: FileList | File[]) => void"},static:!1,readonly:!1},{name:"children",visibility:"public",keywords:[],kind:"let",type:{kind:"function",text:"Snippet<[]>"},static:!1,readonly:!1}],name:"file-area.svelte"};export{ne as F};
