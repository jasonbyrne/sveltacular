import{a6 as h,a7 as m,I as i,a8 as k,V as y,a9 as b,aa as u,ab as S,U as E}from"./iframe-D7RYvwF5.js";function V(e,l,a=l){var f=new WeakSet;h(e,"input",async r=>{var o=r?e.defaultValue:e.value;if(o=n(e)?t(o):o,a(o),u!==null&&f.add(u),await m(),o!==(o=l())){var v=e.selectionStart,s=e.selectionEnd,c=e.value.length;if(e.value=o??"",s!==null){var d=e.value.length;v===s&&s===c&&d>c?(e.selectionStart=d,e.selectionEnd=d):(e.selectionStart=v,e.selectionEnd=Math.min(s,d))}}}),i(l)==null&&e.value&&(a(n(e)?t(e.value):e.value),u!==null&&f.add(u)),k(()=>{var r=l();if(e===document.activeElement){var o=S??u;if(f.has(o))return}n(e)&&r===t(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}const _=new Set;function q(e,l,a,f,r=f){var o=a.getAttribute("type")==="checkbox",v=e;if(l!==null)for(var s of l)v=v[s]??(v[s]=[]);v.push(a),h(a,"change",()=>{var c=a.__value;o&&(c=w(v,c,a.checked)),r(c)},()=>r(o?[]:null)),k(()=>{var c=f();o?(c=c||[],a.checked=c.includes(a.__value)):a.checked=E(a.__value,c)}),y(()=>{var c=v.indexOf(a);c!==-1&&v.splice(c,1)}),_.has(v)||(_.add(v),b(()=>{v.sort((c,d)=>c.compareDocumentPosition(d)===4?-1:1),_.delete(v)})),b(()=>{})}function B(e,l,a=l){h(e,"change",f=>{var r=f?e.defaultChecked:e.checked;a(r)}),i(l)==null&&a(e.checked),k(()=>{var f=l();e.checked=!!f})}function w(e,l,a){for(var f=new Set,r=0;r<e.length;r+=1)e[r].checked&&f.add(e[r].__value);return a||f.delete(l),Array.from(f)}function n(e){var l=e.type;return l==="number"||l==="range"}function t(e){return e===""?null:+e}export{V as a,B as b,q as c};
