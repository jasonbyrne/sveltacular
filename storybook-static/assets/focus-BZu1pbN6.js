const l=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed",'[tabindex]:not([tabindex="-1"])',"[contenteditable]","audio[controls]","video[controls]"].join(",");function r(e){return Array.from(e.querySelectorAll(l)).filter(t=>t.offsetWidth>0&&t.offsetHeight>0&&window.getComputedStyle(t).visibility!=="hidden")}function f(e){return r(e)[0]||null}function d(e){const t=r(e);return t[t.length-1]||null}function a(e){if(!e||!(e instanceof HTMLElement)||!e.querySelectorAll)return console.warn("createFocusTrap: Invalid container provided",e),()=>{};const t=f(e);d(e);const u=document.activeElement;t==null||t.focus();const i=n=>{if(n.key!=="Tab")return;const c=r(e),o=c[0],s=c[c.length-1];n.shiftKey&&document.activeElement===o?(n.preventDefault(),s==null||s.focus()):!n.shiftKey&&document.activeElement===s&&(n.preventDefault(),o==null||o.focus())};return e.addEventListener("keydown",i),()=>{e.removeEventListener("keydown",i),u==null||u.focus()}}function b(){return document.activeElement}function m(e){e&&typeof e.focus=="function"&&e.focus()}function y(e){return a(e)}export{m as r,b as s,y as t};
