import{p as W,A as d,x as q,f as k,e as y,D as x,k as _,l as m,b as u,c as X,g as t,C as Y,s as z,i as A,F as Z,af as h,h as w,u as $,a as tt}from"./iframe-D7RYvwF5.js";import{s as P}from"./attributes-AHszVgQG.js";import{s as V}from"./class-CSG4cUfb.js";import{s as F}from"./style-OEUvFely.js";import{b as E}from"./this-p55_KPOp.js";import{u as et}from"./unique-id-JjuMjhtj.js";import{b as it}from"./index-Bt-Xh7oU.js";import{u as ot}from"./use-position.svelte-BiO9WjIV.js";var at=k("<div></div>"),nt=k('<div role="dialog" aria-modal="false"><!> <!></div>'),st=k('<div role="dialog" aria-modal="false"><!></div>'),lt=k('<div class="popover-wrapper svelte-18fgmuo"><div role="button" tabindex="0" aria-haspopup="true"><!></div> <!></div>');function rt(K,a){W(a,!0);let o=d(a,"open",15,!1),S=d(a,"position",3,"bottom"),M=d(a,"placement",3,void 0),D=d(a,"autoPosition",3,!0),b=d(a,"arrow",3,!1),j=d(a,"offset",3,8);const C=et();let p=A(null),s=A(null),n=Y(()=>D()?ot(()=>t(p),()=>t(s),{placement:M()||S(),offset:j(),arrow:b(),arrowSize:8,enabled:o()}):null);const I=e=>{t(s)&&t(p)&&!t(s).contains(e.target)&&!t(p).contains(e.target)&&o(!1)},B=e=>{(e.key==="Enter"||e.key===" ")&&(e.preventDefault(),o(!o()))};q(()=>{if(o()&&it)return document.addEventListener("click",I),()=>{document.removeEventListener("click",I)}}),q(()=>{t(n)&&(t(n).setOptions({enabled:o()}),o()&&t(n).update())});var L=lt(),l=y(L);l.__click=()=>o(!o()),l.__keydown=B;var G=y(l);x(G,()=>a.trigger??h),E(l,e=>w(p,e),()=>t(p));var H=z(l,2);{var J=e=>{var O=$(),N=tt(O);{var Q=r=>{var i=nt();let v;var c=y(i);x(c,()=>a.children??h);var T=z(c,2);{var U=f=>{var g=at();m(()=>{V(g,1,`popover-arrow ${t(n).arrowSide??""}`,"svelte-18fgmuo"),F(g,t(n).arrowStyle)}),u(f,g)};_(T,f=>{b()&&f(U)})}E(i,f=>w(s,f),()=>t(s)),m(()=>{v=V(i,1,"popover positioned svelte-18fgmuo",null,v,{"with-arrow":b()}),P(i,"id",C),F(i,`position: fixed; top: ${t(n).top??""}px; left: ${t(n).left??""}px;`)}),u(r,i)},R=r=>{var i=st(),v=y(i);x(v,()=>a.children??h),E(i,c=>w(s,c),()=>t(s)),m(()=>{V(i,1,`popover ${S()??""}`,"svelte-18fgmuo"),P(i,"id",C)}),u(r,i)};_(N,r=>{D()&&t(n)?r(Q):r(R,!1)})}u(e,O)};_(H,e=>{o()&&e(J)})}m(()=>P(l,"aria-expanded",o())),u(K,L),X()}Z(["click","keydown"]);rt.__docgen={data:[{name:"open",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"..."},{name:"position",visibility:"public",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"top",text:'"top"'},{kind:"const",type:"string",value:"bottom",text:'"bottom"'},{kind:"const",type:"string",value:"left",text:'"left"'},{kind:"const",type:"string",value:"right",text:'"right"'}],text:'"top" | "bottom" | "left" | "right"'},static:!1,readonly:!1,defaultValue:"..."},{name:"placement",visibility:"public",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"top",text:'"top"'},{kind:"const",type:"string",value:"bottom",text:'"bottom"'},{kind:"const",type:"string",value:"left",text:'"left"'},{kind:"const",type:"string",value:"right",text:'"right"'},{kind:"const",type:"string",value:"top-start",text:'"top-start"'},{kind:"const",type:"string",value:"top-end",text:'"top-end"'},{kind:"const",type:"string",value:"bottom-start",text:'"bottom-start"'},{kind:"const",type:"string",value:"bottom-end",text:'"bottom-end"'},{kind:"const",type:"string",value:"left-start",text:'"left-start"'},{kind:"const",type:"string",value:"left-end",text:'"left-end"'},{kind:"const",type:"string",value:"right-start",text:'"right-start"'},{kind:"const",type:"string",value:"right-end",text:'"right-end"'}],text:'"top" | "bottom" | "left" | "right" | "top-start" | "top-end" | "bottom-start" | "bottom-end" | "left-start" | "left-end" | "right-start" | "right-end"'},static:!1,readonly:!1,defaultValue:"..."},{name:"autoPosition",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"true"},{name:"arrow",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"offset",visibility:"public",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"8"},{name:"trigger",visibility:"public",keywords:[],kind:"let",type:{kind:"function",text:"Snippet<[]>"},static:!1,readonly:!1},{name:"children",visibility:"public",keywords:[],kind:"let",type:{kind:"function",text:"Snippet<[]>"},static:!1,readonly:!1}],name:"popover.svelte"};export{rt as P};
